/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

def readProp(String file) {
    Properties properties = new Properties()
    File propertiesFile = new File(file)

    propertiesFile.withInputStream {
        properties.load(it)
    }

    return properties
}

task build(type: Copy) {
    from 'src'
    // from 'other'
    into 'build'
    exclude 'setting.properties'
    exclude '.gitkeep'
    includeEmptyDirs = false

    def prop = readProp('src/setting.properties')
    expand(prop)
}

task clean(type: Delete) {
  delete 'build'
  followSymlinks = true
}